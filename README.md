## ФИО 
Кронберг Илья Анатольевич

## Потраченное время. 
Ориентировочно около 3 - 4 часа (учитывая frontend)
 * Подготовка и проектирование (30 мин)
 * Подготовока классов и методов (30 мин)
 * Написание кода серверой части (1- 1-30)
 * Верстка и работа со скриплатами на frontend и написание комментариев к коду 

## Структура модуля

в исходный шаблон задания добавлены следующие каталоги

* classes
 * Match.php	- класс Матч (отвечает за взаимодействие Player и Team)
 * Message.php	- класс Сообщение (является базовой структурной единицей, в которую преобразуется элемет json документа)
 * Parser.php - класс Парсер (отвечает за декодирование, запуск процесса анализа документа, и запись сгенерированной трансляции в новый файл)
 * Player.php	 - класс Игрок (представляет собой сущность Игрока, со свойствами на основе структуры json документа трансляции)
 * Team.php - класс Команда (представляет собой сущность Команды, со свойствами на основе структуры json документа трансляции, отвечает за управление игроками)

* templates (содержит html шаблоны секций для генерации новых страниц)
 * commands_section.html	- шаблон секции списка игроков
 * events_section.html	- шаблон секции основных событий матча
 * footer.html	 - служебный шаблон (содержит js и css для отрисовки документа)
 * header.html	 - служебный шаблон (содежит head секцию)
 * replaced_section.html	- шаблон секции игроков вышедших на замену
 * reserve_section.html	- шаблон секции запасных игроков
 * result_section.html - шаблон секции результатов матча

.parser.php - основной файл скрипта (запускает парсинг)

## Логика работы
В процессе проектирования был выроботан следующий алгоритм
 
* Сканируется директория **/source/matches/** на наличие json документов
* Если найдены корректные документы - создаем объект типа Парсер и запускаем процесс парсинга
 * Анализируется реальность и корректность файла
 * Формат JSON декодируется в массив Сообщений (для удобства дальнейшей работы с ними)
  * инциализируем объект класса Матч исходя из массива Сообщений
  * инциализируем объекты класса Команда исходя из массива Сообщений
  * инциализируем объекты класса Игрок исходя из массива Сообщений
  * запускаем процесс анализа основных событий Матча
   * в процессе анализа матча выполняются необходимые изменения в значениях полей объектов типа Команда и Игрок, на основе которых далее будет построен html Документ (выдача карточек, замены в составе и тд)
 * Формируем  шаблон будующего документа на основе полученных данных используя шаблоны из папки templates
* Записываем файл в результирующую директорию **result/**.

### Шаблон сгенерированного документа содержит следующую информацию 

* Общий результат матча - использован шаблон секции основных событий матча
 * показыны общие реузльтаты и голы (с указанием авторства и времени)

* Краткое описание важных событий - использован шаблон секции основных событий матча
 * показаны основные события матча (опасные моменты, замены, голы, желтая карточка)

* Список основных игроков - использован шаблон секции списка игроков 
 * Для каждого игрока указаны
  * Время, проведенное каждым игроком на поле;
  * Информацию о том, сколько игрок забил мячей и сколько сделал голевых передач;
  * Получал ли игрок желтые и красные карточки;

* Список игроков, которые вышли на замен - использован шаблон секции игроков вышедших на замену
* Список запасных игроков - использован шаблон секции запасных игроков

## Инструкция 
Скопировать рабочую директорию в папку проекта и запустить parser.php

## Планы на рефакторинг
* Вынести построение шаблона в отдельный класс. (отдельный класс для Builder)
* Произвести корректное сокрытие методов классов (public морозов)
* Произвести корректировку мелких багов
